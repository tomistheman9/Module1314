- Database schema
- Pay attention to the names, types and properties of the columns.

-  *** Tables definitions ***
- The users table have been generated by devise, however we want to add a name column to it.

#############################################################################################
```
Table users {
    id int [pk]
    name varchar [not null]
    email varchar [not null]
    encrypted_password varchar [not null]
    reset_password_token varchar
    reset_password_sent_at varchar
    remember_created_at varchar
    created_at datetime
    updated_at datetime
}

rails generate devise User name:string email:string encrypted_password:string reset_password_token:string reset_password_sent_at:string remember_created_at:string
```
#############################################################################################
```
Table addresses {
    id int [pk]
    street_address varchar [not null]
    city varchar [not null]
    postal_code varchar [not null]
    created_at datetime
    updated_at datetime
}

rails generate model Address street_address:string city:string postal_code:string
```
#############################################################################################
```
Table employees {
    id int [pk]
    user_id int [not null, unique]
    address_id int [not null]
    phone varchar [not null]
    email varchar
    created_at datetime
    updated_at datetime
}

rails generate model Employee user:references address:references phone:string email:string
```
#############################################################################################
```
Table restaurants {
    id int [pk]
    user_id int [not null]
    address_id int [not null, unique]
    phone varchar [not null]
    email varchar
    name varchar [not null]
    price_range int [not null, default: 1] // 1-3
    active boolean [not null, default: true]
    created_at datetime
    updated_at datetime
}

rails generate model Restaurant user:references address:references phone:string email:string name:string price_range:integer active:boolean
```
#############################################################################################
```
Table customers {
    id int [pk]
    user_id int [not null, unique]
    address_id int [not null]
    phone varchar [not null]
    email varchar
    active boolean [not null, default: true]
    created_at datetime
    updated_at datetime
}

rails generate model Customer user:references address:references phone:string email:string active:boolean
```
#############################################################################################
```
Table products {
    id int [pk]
    restaurant_id int [not null]
    name varchar [not null]
    description varchar
    cost int [not null] // >= 0
    created_at datetime
    updated_at datetime
}

rails generate model Product restaurant:references name:string description:string cost:integer
```
#############################################################################################
```
Table order_statuses {
    id int [pk]
    name varchar [not null] // pending, in progress, delivered
    created_at datetime
    updated_at datetime
}

rails generate model OrderStatus name:string
```
#############################################################################################
```
Table orders {
    id int [pk]
    restaurant_id int [not null]
    customer_id int [not null]
    order_status_id int [not null]
    restaurant_rating int // 1-5
    created_at datetime
    updated_at datetime
}

rails generate model Order restaurant:references customer:references order_status:references restaurant_rating:integer
```
#############################################################################################
- Cannot create two product_orders with the same product_id for the same order
- Must belong to the same restaurant as the order
```
Table product_orders {
    id int [pk]
    product_id int [not null]
    order_id int [not null]
    product_quantity int [not null] // > 0
    product_unit_cost int [not null] // >= 0
    created_at datetime
    updated_at datetime
}

rails generate model ProductOrder product:references order:references product_quantity:integer product_unit_cost:integer
```
#############################################################################################
*** Relationships ***
```
Ref: product_orders.order_id > orders.id
Ref: products.restaurant_id > restaurants.id
Ref: orders.order_status_id > order_statuses.id
Ref: product_orders.product_id > products.id
Ref: orders.restaurant_id > restaurants.id
Ref: orders.customer_id > customers.id
Ref: employees.address_id > addresses.id
Ref: customers.address_id > addresses.id
Ref: restaurants.address_id > addresses.id
Ref: restaurants.user_id > users.id
Ref: employees.user_id - users.id
Ref: customers.user_id - users.id
```

#############################################################################################
*** New Tables w12 ***
```
Table couriers {
id int [pk]
user_id int [not null, unique]
address_id int [not null]
courier_status_id int [not null, default: 1]
phone varchar [not null]
email varchar
active boolean [not null, default: true]
created_at datetime
updated_at datetime
}
```
#############################################################################################
```
// 1: free, 2: busy, 3: full, 4: offline
Table courier_statuses {
id int [pk]
name varchar [not null]
created_at datetime
updated_at datetime
}
```